void 0===window.GM&&(window.GM={getValue:(n,t)=>new Promise(o=>{chrome.storage.local.get(n,e=>{o(void 0===e[n]?t:e[n])})}),setValue:(n,t)=>new Promise(e=>{var o={};o[n]=t,chrome.storage.local.set(o,e)}),deleteValue:o=>new Promise(e=>{chrome.storage.local.remove(o,e)}),listValues:()=>new Promise(o=>{chrome.storage.local.get(null,e=>{o(Object.keys(e))})}),xmlHttpRequest:n=>{let e=new AbortController;var o=e.signal,o={method:n.method||"GET",headers:n.headers,body:n.data,signal:o};return fetch(n.url,o).then(async e=>{var o=await e.text();"function"==typeof n.onload&&n.onload({status:e.status,statusText:e.statusText,responseText:o,response:o,finalUrl:e.url})}).catch(e=>{"function"==typeof n.onerror&&n.onerror(e)}),{abort:()=>e.abort()}},addStyle:e=>{var o=document.createElement("style");return o.textContent=e,document.head.appendChild(o),o},addElement:(e,o,n)=>{"string"==typeof e&&(n=o,o=e,e=document.head);var t=document.createElement(o);if(n)for(var a in n)t.setAttribute(a,n[a]);return(e||document.head).appendChild(t),t},openInTab:(e,o={})=>{e={url:e,active:void 0===o.active||o.active};return chrome.tabs.create(e,e=>{}),{close:()=>{console.warn("Cerrar pestañas abiertas no es soportado")}}},notification:a=>{var e={type:"basic",iconUrl:a.image||"icons/icon48.png",title:a.title||"",message:a.text||""};chrome.notifications.create("",e,t=>{a.onclick&&chrome.notifications.onClicked.addListener(function e(o){o===t&&(a.onclick(),chrome.notifications.onClicked.removeListener(e))}),a.ondone&&chrome.notifications.onClosed.addListener(function e(o,n){o===t&&(a.ondone(),chrome.notifications.onClosed.removeListener(e))})})},setClipboard:(e,o=0)=>{var n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.select();try{document.execCommand("copy")}catch(e){console.error("GM_setClipboard failed:",e)}document.body.removeChild(n)},registerMenuCommand:(e,o,n=0)=>(console.log("Registro de comando de menú:",e),e),unregisterMenuCommand:e=>{console.log("Anulación de comando de menú:",e)},getResourceText:e=>(console.warn("GM_getResourceText no implementado"),""),getResourceURL:(e,o=0)=>(console.warn("GM_getResourceURL no implementado"),""),addValueChangeListener:(e,o)=>(console.warn("GM_addValueChangeListener no implementado"),"dummyListenerId"),removeValueChangeListener:e=>{console.warn("GM_removeValueChangeListener no implementado")},download:n=>(fetch(n.url).then(e=>e.blob()).then(e=>{var e=URL.createObjectURL(e),o=document.createElement("a");o.href=e,o.download=n.name,document.body.appendChild(o),o.click(),o.remove(),URL.revokeObjectURL(e),n.onload&&n.onload()}).catch(e=>{n.onerror&&n.onerror(e)}),{abort:()=>{console.warn("Abort no soportado en GM_download placeholder")}})},window.GM_info={script:{name:"Zedmonkey Script",version:"1.0",namespace:"zedmonkey",match:["*://*/*"]},injectInto:"auto",isIncognito:!1,platform:{os:"linux",browserName:"chrome"}},window.GM_getValue=window.GM.getValue,window.GM_setValue=window.GM.setValue,window.GM_deleteValue=window.GM.deleteValue,window.GM_listValues=window.GM.listValues,window.GM_xmlhttpRequest=window.GM.xmlHttpRequest,window.GM_addStyle=window.GM.addStyle,window.GM_addElement=window.GM.addElement,window.GM_openInTab=window.GM.openInTab,window.GM_notification=window.GM.notification,window.GM_setClipboard=window.GM.setClipboard,window.GM_registerMenuCommand=window.GM.registerMenuCommand,window.GM_unregisterMenuCommand=window.GM.unregisterMenuCommand,window.GM_download=window.GM.download);