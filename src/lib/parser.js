function parseZedataBlock(r){if(!(r=r.match(/\[script\]([\s\S]*?)(?=\[|\n\n|$)/)))return null;var a,t,e={};for(a of r[1].trim().split("\n")){var[s,n]=a.split("=").map(r=>r.trim());s&&n&&(e[s]=n.replace(/^["'](.*)["']$/,"$1"))}for(t of["name","namespace","version","match"])if(!e[t])return null;return e}function parseUserscriptMetadata(r){r=r.match(/\/\/\s*==UserScript==([\s\S]*?)\/\/\s*==\/UserScript==/);if(!r)return null;var a,t,e={};for(a of r[1].trim().split("\n")){var s=a.match(/\/\/\s*@(\w+)\s+(.*)/);s&&([,s,t]=s,e[s]?Array.isArray(e[s])?e[s].push(t):e[s]=[e[s],t]:e[s]=t)}return e}export{parseZedataBlock,parseUserscriptMetadata};